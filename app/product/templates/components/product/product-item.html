{% load static %}
{% load producthelper %}
<div class="product-cart-wrap mb-30" data-product-id="{{ product.id }}">
    <div class="product-img-action-wrap">
        <div class="product-img product-img-zoom">
            <a aria-label="Quick view" data-bs-toggle="modal" data-bs-target="#quickViewModal{{product.id}}{% if category_product %}{{product.id}}{% endif %}">
                <img class="default-img" src="{{product.image.url}}" alt="">
            </a>
        </div>
        <div class="product-action-1">
            <a id="product_action_{{ product.id }}" aria-label='Sevimlilərə əlavə et' {% if user.is_authenticated %}onclick="toggleFavorite({{ product.id }})"{% else %}href="{% url "login" %}"{% endif %} class='action-btn'>{% if product|is_wished:request and user.is_authenticated %}<img style="width:15px;" src="{% static "assets/imgs/heart.png" %}" alt="">{% else %}<i class="fi-rs-heart"></i>{% endif %}</a>
            <a aria-label="Sürətli bax" class="action-btn" data-bs-toggle="modal" data-bs-target="#quickViewModal{{product.id}}{% if category_product %}{{product.id}}{% endif %}"><i class="fi-rs-eye"></i></a>
        </div>
        <div class="product-badges product-badges-position product-badges-mrg">
            {% if product.badges == 1 %}
            <span class="hot">Ən çox satılan</span>
            {% elif product.badges == 2 %}
            <span class="new">Yeni</span>
            {% elif product.badges == 3 and product.discount%}
            <span class="best">{{product.discount}}%</span>
            {% endif %}
        </div>
    </div>
    <div class="product-content-wrap">
        <div class="product-category">
            <a href='shop-grid-right.html'>{{product.category}}</a>
        </div>
        <h2><a aria-label="Quick view" data-bs-toggle="modal" data-bs-target="#quickViewModal{{product.id}}">{{product.title}}</a></h2>
        <div>
        {% if product.vendor %}
            <span class="font-small text-muted">By <a href='vendor-details-1.html'>{{product.vendor}}</a></span>
        {% else %}
        <br/>
        {% endif %}
        </div>
        <div class="product-card-bottom">
            <div class="product-price">
                <span>{% if product.discount %}{{product.discount_price}}{% else %}${{product.price}}{% endif %}</span>
                {% if product.discount %}
                <span class="old-price">${{product.price}}</span>
                {% endif %}
            </div>
            <div class="add-cart">
                <button class='add'  {% if user.is_authenticated %}onclick="addToBasket({{ product.id }},1)"{% endif %}><i class="fi-rs-shopping-cart mr-5"></i>Əlavə et</button>
            </div>
        </div>
    </div>
</div>
{% include "components/product/modal.html" %}
