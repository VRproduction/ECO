{% load i18n %}

<section class="lg:max-w-screen-xl container sm:px-[12px] mx-auto my-[25px]">
    <div class="grid grid-cols-2 sm:rounded-md sm:grid-cols-3 lg:grid-cols-5 gap-5 items-center bg-cover bg-center p-[12px] lg:py-[70px]"
         style="{% if statistic.image %}background-image: url({{statistic.image.url}});{% endif %}">
        
        <div class="text-center flex flex-col lg:gap-[15px]" data-target="{{ statistic.year }}" id="year-count-container">
            <div class="flex gap-[5px] items-center justify-center">
                <h1 id="year-count" class="text-green-600 text-4xl lg:text-[60px] font-bold">0</h1>
                <span class="text-[20px] font-[600] text-green-600">+</span>
            </div>
            <h4 class="text-green-600 text-lg lg:text-2xl font-[600]">{% trans "İl xidmətinizdə" %}</h4>
        </div>
        
        <div class="text-center flex flex-col lg:gap-[15px]" data-target="{{ statistic.product }}" id="product-count-container">
            <div class="flex gap-[5px] items-center justify-center">
                <h1 id="product-count" class="text-green-600 text-4xl lg:text-[60px] font-bold">0</h1>
                <span class="text-[20px] font-[600] text-green-600">+</span>
            </div>
            <h4 class="text-green-600 text-lg lg:text-2xl font-[600]">{% trans "Məhsul" %}</h4>
        </div>
        
        <div class="text-center flex flex-col lg:gap-[15px]" data-target="{{ statistic.category }}" id="category-count-container">
            <div class="flex gap-[5px] items-center justify-center">
                <h1 id="category-count" class="text-green-600 text-4xl lg:text-[60px] font-bold">0</h1>
                <span class="text-[20px] font-[600] text-green-600">+</span>
            </div>
            <h4 class="text-green-600 text-lg lg:text-2xl font-[600]">{% trans "Çeşid" %}</h4>
        </div>
        
        <div class="text-center flex flex-col lg:gap-[15px]" data-target="{{ statistic.brend }}" id="brend-count-container">
            <div class="flex gap-[5px] items-center justify-center">
                <h1 id="brend-count" class="text-green-600 text-4xl lg:text-[60px] font-bold">0</h1>
                <span class="text-[20px] font-[600] text-green-600">+</span>
            </div>
            <h4 class="text-green-600 text-lg lg:text-2xl font-[600]">{% trans "Brend" %}</h4>
        </div>
        
        <div class="text-center flex flex-col lg:gap-[15px]" data-target="{{ statistic.new_taste }}" id="new-taste-count-container">
            <div class="flex gap-[5px] items-center justify-center">
            <h1  id="new-taste-count" class="text-green-600 text-4xl lg:text-[60px] font-bold">0</h1>
                <span class="text-[20px] font-[600] text-green-600">+</span>
        </div>
            <h4 class="text-green-600 text-lg lg:text-2xl font-[600]">{% trans "Yeni dad" %}</h4>
        </div>
    </div>
</section>
    
<script>
    function animateValue(id, start, end, duration) {
        let obj = document.getElementById(id);
        let range = end - start;
        let current = start;
        let increment = end > start ? 1 : -1;
        let stepTime = Math.abs(Math.floor(duration / range));
        let timer = setInterval(function() {
            current += increment;
            obj.textContent = current;
            if (current == end) {
                clearInterval(timer);
            }
        }, stepTime);
    }
    
    // Sayfa yüklendikten sonra animasyonu başlatmak için:
    document.addEventListener("DOMContentLoaded", function() {
        animateValue("year-count", 0, parseInt(document.getElementById("year-count-container").getAttribute("data-target")), 2000);
        animateValue("product-count", 0, parseInt(document.getElementById("product-count-container").getAttribute("data-target")), 2000);
        animateValue("category-count", 0, parseInt(document.getElementById("category-count-container").getAttribute("data-target")), 2000);
        animateValue("brend-count", 0, parseInt(document.getElementById("brend-count-container").getAttribute("data-target")), 2000);
        animateValue("new-taste-count", 0, parseInt(document.getElementById("new-taste-count-container").getAttribute("data-target")), 2000);
    });
    
</script>
